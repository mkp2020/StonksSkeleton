{"ast":null,"code":"import \"source-map-support/register\";\nimport handler from \"./libs/handler-lib\";\nimport dynamoDb from \"./libs/dynamodb-lib\";\nexport const main = handler(async (event, context) => {\n  const data = JSON.parse(event.body);\n  const watchlist = data.watchlist;\n  const id = event.requestContext.identity.cognitoIdentityId;\n  const symbols = data.symbols; //console.log(dynamoDb.createSet(data.symbols));\n\n  console.log(process.env.TableName);\n  const params = {\n    //made dynamo db table in aws called watchlists\n    TableName: \"watchlists\",\n    Key: {\n      userId: id,\n      watchlistId: watchlist,\n      //symbols: dynamoDb.createSet(\"\"),\n      symbols: symbols\n    },\n    UpdateExpression: \"ADD symbols :symbols\",\n    ExpressionAttributeValues: {\n      \":symbols\": dynamoDb.createSet(data.symbols)\n    } //ReturnValues: \"ALL_NEW\",\n\n  };\n  await dynamoDb.update(params);\n  return {\n    symbols\n  };\n});","map":{"version":3,"sources":["/Users/mallikaparulekar/Desktop/CS/StonksSkeleton/backend/add-symbols.js"],"names":["handler","dynamoDb","main","event","context","data","JSON","parse","body","watchlist","id","requestContext","identity","cognitoIdentityId","symbols","console","log","process","env","TableName","params","Key","userId","watchlistId","UpdateExpression","ExpressionAttributeValues","createSet","update"],"mappings":";AAAA,OAAOA,OAAP,MAAoB,oBAApB;AACA,OAAOC,QAAP,MAAqB,qBAArB;AAEA,OAAO,MAAMC,IAAI,GAAGF,OAAO,CAAC,OAAOG,KAAP,EAAcC,OAAd,KAA0B;AAClD,QAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWJ,KAAK,CAACK,IAAjB,CAAb;AACA,QAAMC,SAAS,GAAGJ,IAAI,CAACI,SAAvB;AACA,QAAMC,EAAE,GAAGP,KAAK,CAACQ,cAAN,CAAqBC,QAArB,CAA8BC,iBAAzC;AACA,QAAMC,OAAO,GAAGT,IAAI,CAACS,OAArB,CAJkD,CAMlD;;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYC,OAAO,CAACC,GAAR,CAAYC,SAAxB;AAEA,QAAMC,MAAM,GAAG;AACX;AACAD,IAAAA,SAAS,EAAE,YAFA;AAGXE,IAAAA,GAAG,EAAE;AACDC,MAAAA,MAAM,EAAEZ,EADP;AAEDa,MAAAA,WAAW,EAAEd,SAFZ;AAGD;AACAK,MAAAA,OAAO,EAAEA;AAJR,KAHM;AASXU,IAAAA,gBAAgB,EAAE,sBATP;AAUXC,IAAAA,yBAAyB,EAAE;AACvB,kBAAYxB,QAAQ,CAACyB,SAAT,CAAmBrB,IAAI,CAACS,OAAxB;AADW,KAVhB,CAaX;;AAbW,GAAf;AAeA,QAAMb,QAAQ,CAAC0B,MAAT,CAAgBP,MAAhB,CAAN;AACA,SAAO;AAACN,IAAAA;AAAD,GAAP;AACH,CA1B0B,CAApB","sourcesContent":["import handler from \"./libs/handler-lib\";\nimport dynamoDb from \"./libs/dynamodb-lib\";\n\nexport const main = handler(async (event, context) => {\n    const data = JSON.parse(event.body);\n    const watchlist = data.watchlist;\n    const id = event.requestContext.identity.cognitoIdentityId;\n    const symbols = data.symbols;\n\n    //console.log(dynamoDb.createSet(data.symbols));\n    console.log(process.env.TableName);\n\n    const params = {\n        //made dynamo db table in aws called watchlists\n        TableName: \"watchlists\",\n        Key: {\n            userId: id,\n            watchlistId: watchlist,\n            //symbols: dynamoDb.createSet(\"\"),\n            symbols: symbols,\n        },\n        UpdateExpression: \"ADD symbols :symbols\",\n        ExpressionAttributeValues: {\n            \":symbols\": dynamoDb.createSet(data.symbols),\n        },\n        //ReturnValues: \"ALL_NEW\",\n    };\n    await dynamoDb.update(params);\n    return {symbols};\n});"]},"metadata":{},"sourceType":"module"}