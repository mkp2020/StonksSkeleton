{"ast":null,"code":"import \"source-map-support/register\";\nimport unirest from \"unirest\";\nimport handler from \"./libs/handler-lib\"; // Test with: serverless invoke local --function stock-info -p mocks/stock-info.json\n\nexport const main = handler(async (event, context) => {\n  // You would use this for something that is not a GET request\n  // const data = JSON.parse(event.body);\n  // This gets symbols from the path parameters (assuming they are sent as a stringified JSON list)\n  // const symbols = JSON.parse(event.body).symbols;\n  const symbols = JSON.parse(event.queryParameters); // This combines the JSON list into a comma separated string as specified by the API docs\n\n  const symbolString = symbols.join(','); // Use the API whose documentation is at this URL!\n  // https://rapidapi.com/apidojo/api/yahoo-finance1?endpoint=apiendpoint_33e0cec5-0f8a-4f9f-a6dc-018e6762fbe7\n\n  var req = unirest(\"GET\", \"https://apidojo-yahoo-finance-v1.p.rapidapi.com/market/v2/get-quotes\");\n  req.query({\n    \"region\": \"US\",\n    \"symbols\": symbolString\n  });\n  req.headers({\n    \"x-rapidapi-key\": process.env.RAPIDAPI_KEY,\n    \"x-rapidapi-host\": process.env.RAPIDAPI_HOST,\n    \"useQueryString\": true\n  });\n  req.end(function (res) {\n    if (res.error) throw new Error(res.error);\n    console.log(JSON.stringify(res.body)); // Return the result as JSON\n\n    return res.body;\n  });\n});\n/*\n\nimport unirest from \"unirest\";\n\nimport handler from \"./libs/handler-lib\";\n\n// Test with: serverless invoke local --function stock-info -p mocks/stock-info.json \n\nexport const main = handler(async (event, context) => {\n  // You would use this for something that is not a GET request\n  // const data = JSON.parse(event.body);\n\n  // This gets symbols from the path parameters (assuming they are sent as a stringified JSON list)\n  //const symbols = JSON.parse(event.queryParameters.symbols);\n  const symbols = JSON.parse(event.body).symbols;\n  // This combines the JSON list into a comma separated string as specified by the API docs\n  const symbolString = symbols.join(',');\n\n  // Use the API whose documentation is at this URL!\n  // https://rapidapi.com/apidojo/api/yahoo-finance1?endpoint=apiendpoint_33e0cec5-0f8a-4f9f-a6dc-018e6762fbe7\n  //need first line??\n  //var unirest = require(\"unirest\");\n\n  var req = unirest(\"GET\", \"https://apidojo-yahoo-finance-v1.p.rapidapi.com/market/v2/get-quotes\");\n\n  req.query({\n\t\"region\": \"US\",\n\t\"symbols\": \"AMD,IBM,AAPL\"\n  });\n\n  req.headers({\n\t\"x-rapidapi-key\": process.env.RAPIDAPI_KEY,\n\t\"x-rapidapi-host\": process.env.RAPIDAPI_HOST,\n\t\"useQueryString\": true\n  });\n\n\n  req.end(function (res) {\n\t  if (res.error) throw new Error(res.error);\n   console.log(res.body);\n   return res.body;\n}); \n\n  // Return the result as JSON\n  // console.log(res.body);\n \n});\n*/","map":{"version":3,"sources":["/Users/mallikaparulekar/Desktop/CS/StonksSkeleton/backend/stock-info.js"],"names":["unirest","handler","main","event","context","symbols","JSON","parse","queryParameters","symbolString","join","req","query","headers","process","env","RAPIDAPI_KEY","RAPIDAPI_HOST","end","res","error","Error","console","log","stringify","body"],"mappings":";AAAA,OAAOA,OAAP,MAAoB,SAApB;AACA,OAAOC,OAAP,MAAoB,oBAApB,C,CACA;;AACA,OAAO,MAAMC,IAAI,GAAGD,OAAO,CAAC,OAAOE,KAAP,EAAcC,OAAd,KAA0B;AACpD;AACA;AACA;AACA;AACA,QAAMC,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWJ,KAAK,CAACK,eAAjB,CAAhB,CALoD,CAMpD;;AACA,QAAMC,YAAY,GAAGJ,OAAO,CAACK,IAAR,CAAa,GAAb,CAArB,CAPoD,CAQpD;AACA;;AACA,MAAIC,GAAG,GAAGX,OAAO,CAAC,KAAD,EAAQ,sEAAR,CAAjB;AACAW,EAAAA,GAAG,CAACC,KAAJ,CAAU;AACR,cAAU,IADF;AAER,eAAWH;AAFH,GAAV;AAIAE,EAAAA,GAAG,CAACE,OAAJ,CAAY;AACV,sBAAkBC,OAAO,CAACC,GAAR,CAAYC,YADpB;AAEV,uBAAmBF,OAAO,CAACC,GAAR,CAAYE,aAFrB;AAGV,sBAAkB;AAHR,GAAZ;AAKAN,EAAAA,GAAG,CAACO,GAAJ,CAAQ,UAAUC,GAAV,EAAe;AACrB,QAAIA,GAAG,CAACC,KAAR,EAAe,MAAM,IAAIC,KAAJ,CAAUF,GAAG,CAACC,KAAd,CAAN;AACfE,IAAAA,OAAO,CAACC,GAAR,CAAYjB,IAAI,CAACkB,SAAL,CAAeL,GAAG,CAACM,IAAnB,CAAZ,EAFqB,CAGrB;;AACA,WAAON,GAAG,CAACM,IAAX;AACD,GALD;AAMD,CA1B0B,CAApB;AA2BP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import unirest from \"unirest\";\nimport handler from \"./libs/handler-lib\";\n// Test with: serverless invoke local --function stock-info -p mocks/stock-info.json\nexport const main = handler(async (event, context) => {\n  // You would use this for something that is not a GET request\n  // const data = JSON.parse(event.body);\n  // This gets symbols from the path parameters (assuming they are sent as a stringified JSON list)\n  // const symbols = JSON.parse(event.body).symbols;\n  const symbols = JSON.parse(event.queryParameters);\n  // This combines the JSON list into a comma separated string as specified by the API docs\n  const symbolString = symbols.join(',');\n  // Use the API whose documentation is at this URL!\n  // https://rapidapi.com/apidojo/api/yahoo-finance1?endpoint=apiendpoint_33e0cec5-0f8a-4f9f-a6dc-018e6762fbe7\n  var req = unirest(\"GET\", \"https://apidojo-yahoo-finance-v1.p.rapidapi.com/market/v2/get-quotes\");\n  req.query({\n    \"region\": \"US\",\n    \"symbols\": symbolString\n  });\n  req.headers({\n    \"x-rapidapi-key\": process.env.RAPIDAPI_KEY,\n    \"x-rapidapi-host\": process.env.RAPIDAPI_HOST,\n    \"useQueryString\": true\n  });\n  req.end(function (res) {\n    if (res.error) throw new Error(res.error);\n    console.log(JSON.stringify(res.body));\n    // Return the result as JSON\n    return res.body;\n  });\n});\n/*\n\nimport unirest from \"unirest\";\n\nimport handler from \"./libs/handler-lib\";\n\n// Test with: serverless invoke local --function stock-info -p mocks/stock-info.json \n\nexport const main = handler(async (event, context) => {\n  // You would use this for something that is not a GET request\n  // const data = JSON.parse(event.body);\n\n  // This gets symbols from the path parameters (assuming they are sent as a stringified JSON list)\n  //const symbols = JSON.parse(event.queryParameters.symbols);\n  const symbols = JSON.parse(event.body).symbols;\n  // This combines the JSON list into a comma separated string as specified by the API docs\n  const symbolString = symbols.join(',');\n\n  // Use the API whose documentation is at this URL!\n  // https://rapidapi.com/apidojo/api/yahoo-finance1?endpoint=apiendpoint_33e0cec5-0f8a-4f9f-a6dc-018e6762fbe7\n  //need first line??\n  //var unirest = require(\"unirest\");\n\n  var req = unirest(\"GET\", \"https://apidojo-yahoo-finance-v1.p.rapidapi.com/market/v2/get-quotes\");\n\n  req.query({\n\t\"region\": \"US\",\n\t\"symbols\": \"AMD,IBM,AAPL\"\n  });\n\n  req.headers({\n\t\"x-rapidapi-key\": process.env.RAPIDAPI_KEY,\n\t\"x-rapidapi-host\": process.env.RAPIDAPI_HOST,\n\t\"useQueryString\": true\n  });\n\n\n  req.end(function (res) {\n\t  if (res.error) throw new Error(res.error);\n   console.log(res.body);\n   return res.body;\n}); \n\n  // Return the result as JSON\n  // console.log(res.body);\n \n});\n*/"]},"metadata":{},"sourceType":"module"}